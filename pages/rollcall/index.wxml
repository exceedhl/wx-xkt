<scroll-view scroll-y="true" class="rollcalls">

  <block wx:for="{{rollcalls}}">
    <text class="rollcall-panel-title">{{item.yearMonth}}</text>
    <view class="rollcall-panel">
      <block wx:for="{{item.days}}">
        <view class="rollcall-day">
          <view class="rollcall-date">
            <view>{{item.day}}</view>
            <view>{{item.weekDay}}</view>
          </view>

          <view class="rollcall-list">
            <block wx:for="{{item.calls}}" wx:for-item="call">
              <block wx:if="{{call.status == 'done'}}">
                <navigator url="detail">
                  <view class="rollcall-item">
                    <view class="rollcall-info">
                      <view class="rollcall-title">{{call.name}}</view>
                      <view class="rollcall-class">{{call.class}}</view>
                    </view>
                    <view class="rollcall-status">
                      {{call.peopleAttend}} / {{call.peopleAll}}
                    </view>
                  </view>
                </navigator>
              </block>

              <block wx:else>
                <navigator url="{{call.status =='ongoing' ? 'call' : 'ongoing'}}">
                  <view class="rollcall-item">
                    <view class="rollcall-info">
                      <view class="rollcall-title">{{call.name}}</view>
                      <view class="rollcall-class">{{call.class}}</view>
                    </view>
                    <view class="rollcall-status {{call.status}}">
                      {{call.status == 'ongoing' ? '进行中' : '未开始'}}
                    </view>
                  </view>
                </navigator>
              </block>
            </block>
          </view>
        </view>
      </block>
    </view>
  </block>

</scroll-view>

<navigator url="add" hover-class="navigator-hover">
  <view id="rollcall-add">+</view>
</navigator>
